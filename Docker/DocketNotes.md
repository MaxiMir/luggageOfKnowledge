# DOCKER NOTES #

`.pre` — выполняется до всех этапов;

`.post` — выполняется после всех этапов;

`build` — первый после `.pre` этап;

`test` — второй этап;

`deploy` — третий этап;

#### ОТКЛАДКА ####

Для отладки имеет смысл получить информацию об окружении, в котором исполняются задачи. 

Добавим глобальный набор команд, который будет выполняться перед каждой задачей, с помощью `before_script`:

```yaml
before_script:
  - $PSVersionTable.PSVersion
  - dotnet --version
  - nuget help | select-string Version
```

### ТРИГЕРЫ ####

`only/except` позволяет настраивать фильтры по триггерам (`merge_request`, например — настраивает задачу на выполнение при каждом создании запроса на слияние и при каждой отправке коммитов в ветку, являющуюся исходной в запросе на слияние) и именам веток (в т.ч. с использованием регулярных выражений);

`rules` позволяет настраивать набор условий и, опционально, изменять условие выполнения задачи в зависимости от успеха предшествующих задач (when в GitLab CI/CD).


